### (PART 1) Code in VSCode: Convert the temperature scale from Kelvin to Celsius, output the maps, zonal statistics.


```python
import arcpy
from arcpy.ia import *

# daytime

def Model():  # Model

    # To allow overwriting outputs change overwriteOutput option to True.
    arcpy.env.overwriteOutput = False

    # Check out any necessary licenses.
    arcpy.CheckOutExtension("spatial")
    arcpy.CheckOutExtension("ImageAnalyst")
    arcpy.CheckOutExtension("3D")
    arcpy.CheckOutExtension("ImageExt")

    daytime = ['ECOSTRESS_L2_LSTE_00589_007_20180813T164649_0601_03_LST_GEO.tif',
               'ECOSTRESS_L2_LSTE_06367_004_20190820T130156_0601_02_LST_GEO.tif',
               'ECOSTRESS_L2_LSTE_11935_004_20200813T150118_0601_01_LST_GEO.tif',
               'ECOSTRESS_L2_LSTE_17570_005_20210811T153025_0601_01_LST_GEO.tif',
               'ECOSTRESS_L2_LSTE_23253_005_20220812T143102_0601_01_LST_GEO.tif',
               'ECOSTRESS_L2_LSTE_28995_005_20230817T120639_0601_02_LST_GEO.tif']

    nighttime = ['ECOSTRESS_L2_LSTE_00487_004_20180807T034558_0601_03_LST_GEO',
                 'ECOSTRESS_L2_LSTE_06082_007_20190802T044230_0601_02_LST_GEO',
                 'ECOSTRESS_L2_LSTE_11757_014_20200802T035214_0601_01_LST_GEO',
                 'ECOSTRESS_L2_LSTE_17513_017_20210808T011223_0601_01_LST_GEO',
                 'ECOSTRESS_L2_LSTE_23258_015_2022_LST_GEO',
                 'ECOSTRESS_L2_LSTE_28939_007_2023_LST_GEO']

    year = ['2018', '2019', '2020', '2021', '2022', '2023']

    for i in range(0,6):

        # Change the path to the file for the following 3 parameters:
        tif = arcpy.Raster("C:\\Users\MEI-KUEI LU\\Downloads\\GIS_FinalProject\\daytime_selected\\" + daytime[i])
        StudyExtent = "C:\\Users\\MEI-KUEI LU\\Downloads\\GIS_FinalProject\\shapefile\\StudyExtent"
        boundary_merge = "C:\\Users\\MEI-KUEI LU\\Downloads\\GIS_FinalProject\\ArcGISPro\\boundary_merge"

        # Process: Clip Raster (Clip Raster) (management)
        Kelvin_tif = "C:\\Users\\MEI-KUEI LU\\Downloads\\GIS_FinalProject\\daytime_selected\\clip\\kelvin_" + year[i] + ".tif"
        arcpy.management.Clip(in_raster = tif, rectangle="-96.429654776531 29.4630991467366 -94.897061411858 30.7702184730133", out_raster=Kelvin_tif, in_template_dataset=StudyExtent, nodata_value="0", clipping_geometry="ClippingGeometry", maintain_clipping_extent="NO_MAINTAIN_EXTENT")
        Kelvin_tif = arcpy.Raster(Kelvin_tif)

        # Process: Raster Calculator (Raster Calculator) (ia)
        Celsius_tif = "C:\\Users\\MEI-KUEI LU\\Downloads\\GIS_FinalProject\\daytime_selected\\clip\\Celsius\\celsius_" + year[i] + ".tif"
        Raster_Calculator = Celsius_tif
        with arcpy.EnvManager(snapRaster=Kelvin_tif):
            Celsius_tif = Kelvin_tif-273.15
            Celsius_tif.save(Raster_Calculator)


        # Process: Zonal Statistics as Table (Zonal Statistics as Table) (sa)
        Zonal = "C:\\Users\\MEI-KUEI LU\\Downloads\\GIS_FinalProject\\ArcGISPro\\GIS_FinalProject.gdb\\Zonal_nighttime" + year[i]
        arcpy.sa.ZonalStatisticsAsTable(in_zone_data=boundary_merge, zone_field="Name", in_value_raster= Celsius_tif, out_table=Zonal, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=90, percentile_interpolation_type="AUTO_DETECT")
        #.save(Zonal_Statistics_as_Table)


if __name__ == '__main__':
    # Global Environment settings
    with arcpy.EnvManager(scratchWorkspace=r"C:\Users\MEI-KUEI LU\Downloads\GIS_FinalProject\ArcGISPro\GIS_FinalProject.gdb", workspace=r"C:\Users\MEI-KUEI LU\Downloads\GIS_FinalProject\ArcGISPro\GIS_FinalProject.gdb"):
        Model()

```


```python
# nighttime

# -*- coding: utf-8 -*-
"""
Generated by ArcGIS ModelBuilder on : 2023-11-14 17:47:17
"""
import arcpy
from arcpy.ia import *


def Model():  # Model

    # To allow overwriting outputs change overwriteOutput option to True.
    arcpy.env.overwriteOutput = False

    # Check out any necessary licenses.
    arcpy.CheckOutExtension("spatial")
    arcpy.CheckOutExtension("ImageAnalyst")
    arcpy.CheckOutExtension("3D")
    arcpy.CheckOutExtension("ImageExt")

    daytime = ['ECOSTRESS_L2_LSTE_00589_007_20180813T164649_0601_03_LST_GEO.tif',
               'ECOSTRESS_L2_LSTE_06367_004_20190820T130156_0601_02_LST_GEO.tif',
               'ECOSTRESS_L2_LSTE_11935_004_20200813T150118_0601_01_LST_GEO.tif',
               'ECOSTRESS_L2_LSTE_17570_005_20210811T153025_0601_01_LST_GEO.tif',
               'ECOSTRESS_L2_LSTE_23253_005_20220812T143102_0601_01_LST_GEO.tif',
               'ECOSTRESS_L2_LSTE_28995_005_20230817T120639_0601_02_LST_GEO.tif']

    nighttime = ['ECOSTRESS_L2_LSTE_00487_004_20180807T034558_0601_03_LST_GEO.tif',
                 'ECOSTRESS_L2_LSTE_06082_007_20190802T044230_0601_02_LST_GEO.tif',
                 'ECOSTRESS_L2_LSTE_11757_014_20200802T035214_0601_01_LST_GEO.tif',
                 'ECOSTRESS_L2_LSTE_17513_017_20210808T011223_0601_01_LST_GEO.tif',
                 'ECOSTRESS_L2_LSTE_23258_015_2022_LST_GEO.tif',
                 'ECOSTRESS_L2_LSTE_28939_007_2023_LST_GEO.tif']

    year = ['2018', '2019', '2020', '2021', '2022', '2023']

    for i in range(0,6):

        # Change the path to the file for the following 3 parameters:
        tif = arcpy.Raster("C:\\Users\MEI-KUEI LU\\Downloads\\GIS_FinalProject\\nighttime_selected\\" + nighttime[i])
        StudyExtent = "C:\\Users\\MEI-KUEI LU\\Downloads\\GIS_FinalProject\\shapefile\\StudyExtent"
        boundary_merge = "C:\\Users\\MEI-KUEI LU\\Downloads\\GIS_FinalProject\\ArcGISPro\\boundary_merge"

        # Process: Clip Raster (Clip Raster) (management)
        Kelvin_tif = "C:\\Users\\MEI-KUEI LU\\Downloads\\GIS_FinalProject\\nighttime_selected\\clip\\kelvin_" + year[i] + ".tif"
        arcpy.management.Clip(in_raster = tif, rectangle="-96.429654776531 29.4630991467366 -94.897061411858 30.7702184730133", out_raster=Kelvin_tif, in_template_dataset=StudyExtent, nodata_value="0", clipping_geometry="ClippingGeometry", maintain_clipping_extent="NO_MAINTAIN_EXTENT")
        Kelvin_tif = arcpy.Raster(Kelvin_tif)

        # Process: Raster Calculator (Raster Calculator) (ia)
        Celsius_tif = "C:\\Users\\MEI-KUEI LU\\Downloads\\GIS_FinalProject\\nighttime_selected\\clip\\Celsius\\celsius_" + year[i] + ".tif"
        Raster_Calculator = Celsius_tif
        with arcpy.EnvManager(snapRaster=Kelvin_tif):
            Celsius_tif = Kelvin_tif-273.15
            Celsius_tif.save(Raster_Calculator)


        # Process: Zonal Statistics as Table (Zonal Statistics as Table) (sa)
        Zonal = "C:\\Users\\MEI-KUEI LU\\Downloads\\GIS_FinalProject\\ArcGISPro\\GIS_FinalProject.gdb\\Zonal_" + year[i]
        arcpy.sa.ZonalStatisticsAsTable(in_zone_data=boundary_merge, zone_field="Name", in_value_raster= Celsius_tif, out_table=Zonal, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=90, percentile_interpolation_type="AUTO_DETECT")
        #.save(Zonal_Statistics_as_Table)


if __name__ == '__main__':
    # Global Environment settings
    with arcpy.EnvManager(scratchWorkspace=r"C:\Users\MEI-KUEI LU\Downloads\GIS_FinalProject\ArcGISPro\GIS_FinalProject.gdb", workspace=r"C:\Users\MEI-KUEI LU\Downloads\GIS_FinalProject\ArcGISPro\GIS_FinalProject.gdb"):
        Model()

```

### (PART2) Code in Jupyter Notebook: Extract the temperature of multi cities from 2018 to 2023 and draw a line plot. (The output results are 2 lineplots for daytime and nighttime with different lines showing different locations).


```python
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns


file_path = './daytime.csv'
file_path1 = './nighttime.csv'

df = pd.read_csv(file_path)
dg = pd.read_csv(file_path1)

df.head()
dg.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>time</th>
      <th>location</th>
      <th>mean</th>
      <th>min</th>
      <th>max</th>
      <th>range</th>
      <th>sd</th>
      <th>median</th>
      <th>P90</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2018</td>
      <td>Nighttime</td>
      <td>College Station</td>
      <td>27.14</td>
      <td>23.43</td>
      <td>32.33</td>
      <td>8.90</td>
      <td>1.24</td>
      <td>27.15</td>
      <td>28.71</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2019</td>
      <td>Nighttime</td>
      <td>College Station</td>
      <td>27.63</td>
      <td>22.79</td>
      <td>33.57</td>
      <td>10.78</td>
      <td>1.51</td>
      <td>27.65</td>
      <td>29.57</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2020</td>
      <td>Nighttime</td>
      <td>College Station</td>
      <td>24.22</td>
      <td>15.33</td>
      <td>28.11</td>
      <td>12.78</td>
      <td>1.09</td>
      <td>24.21</td>
      <td>25.45</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2021</td>
      <td>Nighttime</td>
      <td>College Station</td>
      <td>27.66</td>
      <td>22.83</td>
      <td>32.79</td>
      <td>9.96</td>
      <td>1.23</td>
      <td>27.63</td>
      <td>29.29</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2022</td>
      <td>Nighttime</td>
      <td>College Station</td>
      <td>29.86</td>
      <td>-133.17</td>
      <td>111.83</td>
      <td>245.00</td>
      <td>8.76</td>
      <td>32.35</td>
      <td>33.35</td>
    </tr>
  </tbody>
</table>
</div>




```python
sns.relplot(x="year" , y= "median",
          data = df,
          kind = "line",
          hue = "Location")
plt.title('Daytime')
plt.show()


sns.relplot(x="year" , y = "median",
            data = dg,
            kind = "line",
            hue = "location")
plt.title('Nighttime')
plt.show()
```


    
![png](output_5_0.png)
    



    
![png](output_5_1.png)
    



```python
sns.relplot(x="year" , y= "P90",
          data = df,
          kind = "line",
          hue = "Location")
plt.title('Daytime')
plt.show()


sns.relplot(x="year" , y = "P90",
            data = dg,
            kind = "line",
            hue = "location")
plt.title('Nighttime')
plt.show()
```


    
![png](output_6_0.png)
    



    
![png](output_6_1.png)
    


### (PART3) Descriptive Statistics


```python
import csv 
import pandas as pd 
import numpy as np 
import matplotlib.pyplot as plt
import seaborn as sns 
```


```python
data = pd.read_csv("box_daytime.csv")
data.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>OID</th>
      <th>Value</th>
      <th>Count</th>
      <th>year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>-139</td>
      <td>23</td>
      <td>2018</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>-138</td>
      <td>30</td>
      <td>2018</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>-137</td>
      <td>20</td>
      <td>2018</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>-136</td>
      <td>48</td>
      <td>2018</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>-135</td>
      <td>25</td>
      <td>2018</td>
    </tr>
  </tbody>
</table>
</div>




```python
g = sns.catplot(x = "year", y = "Value", data = data, kind = "box")

g.fig.suptitle("Daytime")

g.set(xlabel = "Year", ylabel = "Temperature (Celsius)")

plt.show()
```


    
![png](output_10_0.png)
    



```python
data = pd.read_csv("box_nighttime.csv")
data.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>OID</th>
      <th>Value</th>
      <th>Count</th>
      <th>year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>21</td>
      <td>15</td>
      <td>2018</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>22</td>
      <td>2822</td>
      <td>2018</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>23</td>
      <td>80189</td>
      <td>2018</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>24</td>
      <td>262220</td>
      <td>2018</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>25</td>
      <td>148674</td>
      <td>2018</td>
    </tr>
  </tbody>
</table>
</div>




```python
g = sns.catplot(x = "year", y = "Value", data = data, kind = "box")

g.fig.suptitle("Nighttime")

g.set(xlabel = "Year", ylabel = "Temperature (Celsius)")

plt.show()
```


    
![png](output_12_0.png)
    



```python

```


```python

```
